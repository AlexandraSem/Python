#игра "Очко"
import random
ans = ''
print('I want to play with you in one game ...')

while ans != 'n':
    #инициализируем массив
    mass = [2,3,4,5,6,7,8,9,10,11] * 4
    #print(mass)
    random.shuffle(mass)          #перемешиваем его
    a = mass.pop(0)                #сразу снимаем первую карту
    a += mass.pop(0)                #снимаем вторую
    print(a)                        #и показываем их сумму
    s = ''

    while s != 'n':                 #цикл игры игрока, пока он не введёт 'n'
        s = input('Continue the game? y/n\n')           #запрос на продолжение игры у игрока
        if s =='y':                                     #если играем
            a += mass.pop(0)                            #снова берём карту
            print(a)                                    #показываем сумму карт на руках
            if a > 21:                                  #если сумма карт на руках игрока больше 21го
                print('Sorry.. You are lose =(')        #извещаем игрока о проигрыше
                break                                   #выходим из цикла
        else:
            print('Your score is ', a)                  #показываем сумму карт игрока в конце цикла игры

    input('The dealer plays...')            #подтверждаем игру дилера

    d = 0                                   #инициализируем сумму карт диллера

    while d <= 17:                          #цикл игры диллера, пока сумма его карт мельше 18
        if d == 17:                         #условие, имитирующее искусственный интеллект. Право выбора добора карты при сумме карт на руках = 17
            c = random.randint(0,1)         #рандом 50%
            if c == 0:                      #если решка
                break                       #выходим из цикла без добора карты
            else:                           #в противном случае
                d += mass.pop(0)            #добираем карту
                print(d)                    #выводим сумму на экран
        else:                               #основное условие цикла после всех проверок
            d += mass.pop(0)                #диллер набирает карту пока выполняется условие цикла
            print(d)                        #показываем сумму карт

    if a > 21 and d > 21:                   #если у обоих перебор
        print('Kuvaldin win!!!')            #побеждает Кувалдин
    elif d > 21:                            #если у дилера перебор
        print('Player win!')                #побежадет игрок
    elif a > 21:                            #если у игрока перебор
        print('Dealer win!')                #побеждает диллер
    elif a > d:                             #если у игрока сумма карт больше чем у диллера
        print('Player win!')                #побеждает игрок
    elif d > a:                             #если у диллера сумма карт больше чем у игрока
        print('Dealer win!')                #побеждает диллер

    print('Do you want to play more?')      #запрос на повтор партии
    ans = input('y/n ')                     #соглашение игрока


input ("press Enter to exit")
